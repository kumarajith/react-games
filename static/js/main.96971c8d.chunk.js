(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports={GameRow:"Game_GameRow__3IZEd",Container:"Game_Container__2LVVx"}},11:function(e,t,n){e.exports={Container:"Slider_Container__MYFvm",Slider:"Slider_Slider__3V0iA"}},12:function(e,t,n){e.exports={Button:"Button_Button__1amcs",Success:"Button_Success__1H3hH",Danger:"Button_Danger__3UZGC"}},13:function(e,t,n){e.exports={Controls:"Minesweeper_Controls__2FiDI",Container:"Minesweeper_Container__3k4L7"}},19:function(e,t,n){e.exports={Container:"SliderControls_Container__37PR5"}},20:function(e,t,n){e.exports=n(38)},26:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(8),s=n.n(r),l=(n(26),n(6)),o=n(1),h=n(2),u=n(4),c=n(3),m=n(5),d=n(9),f=n.n(d),y={OPEN:0,CLOSED:1,FLAGGED:2},v={LEFT:0,RIGHT:2},g={IN_PROGRESS:"In Progress",WON:"You Win!",LOST:"Game Over"},p=function(e){var t="";return e.status===y.FLAGGED?t="&#128681;":e.status===y.OPEN&&(-1===e.text?t="&#128163;":e.text>0&&(t=e.text)),i.a.createElement("div",{className:e.status===y.OPEN?f.a.TileOpen:f.a.TileClosed,onClick:e.clicked,onContextMenu:e.clicked,dangerouslySetInnerHTML:{__html:t}})},x=n(10),S=n.n(x),w=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).directions=[{x:-1,y:-1},{x:-1,y:0},{x:-1,y:1},{x:0,y:-1},{x:0,y:1},{x:1,y:-1},{x:1,y:0},{x:1,y:1}],n.state={playing:!0,tileStatus:null,firstClick:!0,mines:null,width:null,height:null,mineCount:null},n.tileClickedHandler=function(e,t){if(e.preventDefault(),n.state.playing){var a=n.state.tileStatus.map(function(e){return e.slice()}),i=n.state.mines.map(function(e){return e.slice()}),r=a[t.x][t.y],s=r;if(r===y.CLOSED)if(e.button===v.LEFT){if(n.state.firstClick){var l=n.props.width*n.props.height-n.props.mineCount;i=n.moveInitialMines(i,t,l>=9)}if(s=y.OPEN,-1===i[t.x][t.y])n.setState({playing:!1}),n.props.onGameOver();else{for(var o=new Array(n.state.height),h=0;h<o.length;h++)o[h]=new Array(n.state.width).fill(!1);a=n.openTiles(t,a,o,i)}}else e.button===v.RIGHT&&(s=y.FLAGGED);else r===y.FLAGGED&&e.button===v.RIGHT&&(s=y.CLOSED);a[t.x][t.y]=s,n.setState({tileStatus:a,mines:i,firstClick:!1}),n.hasWonGame(a,i)&&(n.setState({playing:!1}),n.props.gameWon())}},n.hasWonGame=function(e,t){for(var a=0,i=0;i<e.length;i++)for(var r=0;r<e[i].length;r++)-1!==t[i][r]&&e[i][r]===y.OPEN&&a++;return a+n.state.mineCount===n.state.width*n.state.height},n.openTiles=function(e,t,a,i){if(a[e.x][e.y])return t;a[e.x][e.y]=!0;var r=i[e.x][e.y],s=!0,l=!1,o=void 0;try{for(var h,u=n.directions[Symbol.iterator]();!(s=(h=u.next()).done);s=!0){var c=h.value,m=e.x+c.x,d=e.y+c.y;m<0||m>=n.state.height||d<0||d>=n.state.width||(r>0?0===i[m][d]&&(t[m][d]=y.OPEN,t=n.openTiles({x:m,y:d},t,a,i)):0===r&&i[m][d]>=0&&(t[m][d]=y.OPEN,t=n.openTiles({x:m,y:d},t,a,i)))}}catch(f){l=!0,o=f}finally{try{s||null==u.return||u.return()}finally{if(l)throw o}}return t},n.moveInitialMines=function(e,t,a){if(a){var i=!0,r=!1,s=void 0;try{for(var l,o=n.directions[Symbol.iterator]();!(i=(l=o.next()).done);i=!0){var h=l.value,u=t.x+h.x,c=t.y+h.y;if(!(u<0||u>=n.state.height||c<0||c>=n.state.width)&&-1===e[u][c])e:for(var m=0;m<e.length;m++)for(var d=0;d<e[m].length;d++)if(!(m>=t.x-1&&m<=t.x+1&&d>=t.y-1&&d<=t.y+1)&&-1!==e[m][d]){e=n.moveMine(e,{x:u,y:c},{x:m,y:d});break e}}}catch(v){r=!0,s=v}finally{try{i||null==o.return||o.return()}finally{if(r)throw s}}}if(-1===e[t.x][t.y])for(var f=0;f<e.length;f++)for(var y=0;y<e[f].length;y++)if(!(a&&f>=t.x-1&&f<=t.x+1&&y>=t.y-1&&y<=t.y+1)&&-1!==e[f][y])return e=n.moveMine(e,t,{x:f,y:y});return e},n.moveMine=function(e,t,a){var i=0;e[t.x][t.y]=0,e[a.x][a.y]=-1;var r=!0,s=!1,l=void 0;try{for(var o,h=n.directions[Symbol.iterator]();!(r=(o=h.next()).done);r=!0){var u=o.value,c=t.x+u.x,m=t.y+u.y;if(!(c<0||c>=n.state.height||m<0||m>=n.state.width))-1===e[c][m]?i++:e[c][m]--;var d=a.x+u.x,f=a.y+u.y;if(!(d<0||d>=n.state.height||f<0||f>=n.state.width))-1!==e[d][f]&&e[d][f]++}}catch(y){s=!0,l=y}finally{try{r||null==h.return||h.return()}finally{if(s)throw l}}return e[t.x][t.y]=i,e},n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"resetBoard",value:function(){for(var e=new Array(this.state.height),t=new Array(this.state.height),n=0;n<this.state.height;n++)e[n]=new Array(this.state.width).fill(y.CLOSED),t[n]=new Array(this.state.width).fill(0);for(var a=new Set;a.size<this.state.mineCount;)a.add(Math.floor(Math.random()*(this.state.width*this.state.height)));var i=!0,r=!1,s=void 0;try{for(var l,o=a[Symbol.iterator]();!(i=(l=o.next()).done);i=!0){var h=l.value;t[Math.floor(h/this.state.width)][h%this.state.width]=-1}}catch(w){r=!0,s=w}finally{try{i||null==o.return||o.return()}finally{if(r)throw s}}for(n=0;n<t.length;n++)for(var u=0;u<t[n].length;u++)if(-1!==t[n][u]){var c=0,m=!0,d=!1,f=void 0;try{for(var v,g=this.directions[Symbol.iterator]();!(m=(v=g.next()).done);m=!0){var p=v.value,x=n+p.x,S=u+p.y;x<0||x>=this.state.height||S<0||S>=this.state.width||-1===t[x][S]&&c++}}catch(w){d=!0,f=w}finally{try{m||null==g.return||g.return()}finally{if(d)throw f}}t[n][u]=c}this.setState({tileStatus:e,mines:t,playing:!0})}},{key:"componentDidUpdate",value:function(){this.props.reset&&(this.resetBoard(),this.props.onMount())}},{key:"render",value:function(){var e=null;return null!==this.state.tileStatus&&(e=this.state.tileStatus.map(function(e,t){var n=e.map(function(e,n){var a=this;return i.a.createElement(p,{key:t+"_"+n,clicked:function(e){return a.tileClickedHandler(e,{x:t,y:n})},text:this.state.mines[t][n],status:e})},this);return i.a.createElement("div",{key:t,className:S.a.GameRow},n)},this)),i.a.createElement("div",{className:S.a.Container},e)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.reset?{tileStatus:null,mines:null,playing:!1,width:e.width,height:e.height,mineCount:e.mineCount,firstClick:!0}:t}}]),t}(a.Component),C=n(11),O=n.n(C),E=function(e){return i.a.createElement("div",{className:O.a.Container},i.a.createElement("p",null,e.label," : ",e.value),i.a.createElement("input",{className:O.a.Slider,type:"range",min:e.min,max:e.max,value:e.value,onChange:e.changeHandler}))},_=n(12),b=n.n(_),M=function(e){return i.a.createElement("button",{disabled:e.disabled,className:[b.a.Button,b.a[e.btnType]].join(" "),onClick:e.clicked},e.children)},H=n(19),k=n.n(H),G=function(e){return i.a.createElement("div",{className:k.a.Container},i.a.createElement(E,{label:"Height",min:e.min,max:e.max,value:e.height,changeHandler:function(t){return e.onSliderChangeHandler(t,"height")}}),i.a.createElement(E,{label:"Width",min:e.min,max:e.max,value:e.width,changeHandler:function(t){return e.onSliderChangeHandler(t,"width")}}),i.a.createElement(E,{label:"Mines",min:e.min,max:e.maxMines,value:e.mines,changeHandler:function(t){return e.onSliderChangeHandler(t,"mines")}}),i.a.createElement(M,{btnType:"Success",clicked:e.resetHandler},"Play"))},N=n(13),T=n.n(N),I=n(14),R=n.n(I);R.a.setAppElement("#root");var L=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).state={min:2,max:100,maxMines:99,height:5,width:5,mines:10,reset:!0,modalIsOpen:!0,gameState:g.IN_PROGRESS},n.customStyles={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},n.onSliderChangeHandler=function(e,t){if("mines"===t){var a=Math.min(e.target.value,n.state.maxMines);n.setState({mines:a})}else{var i,r=e.target.value*("height"===t?n.state.width:n.state.height)-1,s=Math.min(n.state.mines,r);n.setState((i={},Object(l.a)(i,t,parseInt(e.target.value,10)),Object(l.a)(i,"maxMines",r),Object(l.a)(i,"mines",s),i))}},n.resetHandler=function(e){n.setState({reset:e}),e&&n.setState({gameState:g.IN_PROGRESS})},n.openModal=function(){n.setState({modalIsOpen:!0})},n.closeModal=function(){n.setState({modalIsOpen:!1})},n.gameOverHandler=function(){n.setState({gameState:g.LOST,modalIsOpen:!0})},n.gameWonHandler=function(){n.setState({gameState:g.WON,modalIsOpen:!0})},n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.setState({maxMines:this.state.height*this.state.width-1})}},{key:"render",value:function(){var e=this,t=this.state.gameState;return t=t===g.IN_PROGRESS?"Welcome to minesweeper":t,i.a.createElement("div",{className:T.a.Container},i.a.createElement(R.a,{isOpen:this.state.modalIsOpen,onRequestClose:this.closeModal,contentLabel:"Modal",style:this.customStyles},t),i.a.createElement("div",{className:T.a.Controls},i.a.createElement("h1",null,"Minesweeper"),i.a.createElement(G,{min:this.state.min,max:this.state.max,height:this.state.height,width:this.state.width,mines:this.state.mines,maxMines:this.state.maxMines,onSliderChangeHandler:this.onSliderChangeHandler,resetHandler:function(){return e.resetHandler(!0)}})),i.a.createElement(w,{reset:this.state.reset,onMount:function(){return e.resetHandler(!1)},width:this.state.width,height:this.state.height,mineCount:this.state.mines,onGameOver:this.gameOverHandler,gameWon:this.gameWonHandler}))}}]),t}(a.Component);n(37);var D=function(){return i.a.createElement(L,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,n){e.exports={TileClosed:"Tile_TileClosed__-bC1y",TileOpen:"Tile_TileOpen__2t-hC"}}},[[20,1,2]]]);
//# sourceMappingURL=main.96971c8d.chunk.js.map