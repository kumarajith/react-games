(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports={GameRow:"Game_GameRow__3IZEd",Container:"Game_Container__2LVVx"}},11:function(e,t,n){e.exports={Container:"Slider_Container__MYFvm",Slider:"Slider_Slider__3V0iA"}},12:function(e,t,n){e.exports={Button:"Button_Button__1amcs",Success:"Button_Success__1H3hH",Danger:"Button_Danger__3UZGC"}},13:function(e,t,n){e.exports={Controls:"Minesweeper_Controls__2FiDI",Container:"Minesweeper_Container__3k4L7"}},19:function(e,t,n){e.exports={Container:"SliderControls_Container__37PR5"}},20:function(e,t,n){e.exports=n(38)},26:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(7),s=n.n(r),l=(n(26),n(8)),o=n(1),u=n(2),h=n(4),c=n(3),m=n(5),d=n(9),f=n.n(d),g={OPEN:0,CLOSED:1,FLAGGED:2},y={LEFT:0,RIGHT:2},p={IN_PROGRESS:"In Progress",WON:"You Win!",LOST:"Game Over"},v=function(e){var t="";return e.status===g.FLAGGED?t="&#128681;":e.status===g.OPEN&&(-1===e.text?t="&#128163;":e.text>0&&(t=e.text)),i.a.createElement("div",{className:e.status===g.OPEN?f.a.TileOpen:f.a.TileClosed,onClick:e.clicked,onContextMenu:e.clicked,dangerouslySetInnerHTML:{__html:t}})},S=n(10),x=n.n(S),w=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).directions=[{x:-1,y:-1},{x:-1,y:0},{x:-1,y:1},{x:0,y:-1},{x:0,y:1},{x:1,y:-1},{x:1,y:0},{x:1,y:1}],n.state={playing:!0,tileStatus:null,mines:null,width:null,height:null,mineCount:null},n.tileClickedHandler=function(e,t){if(e.preventDefault(),n.state.playing){var a=n.state.tileStatus.map(function(e){return e.slice()}),i=a[t.x][t.y],r=i;if(i===g.CLOSED)if(e.button===y.LEFT)if(r=g.OPEN,-1===n.state.mines[t.x][t.y])n.setState({playing:!1}),n.props.onGameOver();else{for(var s=new Array(n.state.height),l=0;l<s.length;l++)s[l]=new Array(n.state.width).fill(!1);a=n.updateStatuses(t,a,s)}else e.button===y.RIGHT&&(r=g.FLAGGED);else i===g.FLAGGED&&e.button===y.RIGHT&&(r=g.CLOSED);a[t.x][t.y]=r,n.setState({tileStatus:a}),n.hasWonGame(a)&&(n.setState({playing:!1}),n.props.gameWon())}},n.hasWonGame=function(e){for(var t=0,a=0;a<e.length;a++)for(var i=0;i<e[a].length;i++)-1!==n.state.mines[a][i]&&e[a][i]===g.OPEN&&t++;return t+n.state.mineCount===n.state.width*n.state.height},n.updateStatuses=function(e,t,a){if(a[e.x][e.y])return t;a[e.x][e.y]=!0;var i=n.state.mines[e.x][e.y],r=!0,s=!1,l=void 0;try{for(var o,u=n.directions[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var h=o.value;if(0!==h.x||0!==h.y){var c=e.x+h.x,m=e.y+h.y;c<0||c>=n.state.height||m<0||m>=n.state.width||(i>0?0===n.state.mines[c][m]&&(t[c][m]=g.OPEN,t=n.updateStatuses({x:c,y:m},t,a)):0===i&&n.state.mines[c][m]>=0&&(t[c][m]=g.OPEN,t=n.updateStatuses({x:c,y:m},t,a)))}}}catch(d){s=!0,l=d}finally{try{r||null==u.return||u.return()}finally{if(s)throw l}}return t},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"resetBoard",value:function(){for(var e=new Array(this.state.height),t=new Array(this.state.height),n=0;n<this.state.height;n++)e[n]=new Array(this.state.width).fill(g.CLOSED),t[n]=new Array(this.state.width).fill(0);for(var a=new Set;a.size<this.state.mineCount;)a.add(Math.floor(Math.random()*(this.state.width*this.state.height)));var i=!0,r=!1,s=void 0;try{for(var l,o=a[Symbol.iterator]();!(i=(l=o.next()).done);i=!0){var u=l.value;t[Math.floor(u/this.state.width)][u%this.state.width]=-1}}catch(w){r=!0,s=w}finally{try{i||null==o.return||o.return()}finally{if(r)throw s}}for(n=0;n<t.length;n++)for(var h=0;h<t[n].length;h++)if(-1!==t[n][h]){var c=0,m=!0,d=!1,f=void 0;try{for(var y,p=this.directions[Symbol.iterator]();!(m=(y=p.next()).done);m=!0){var v=y.value,S=n+v.x,x=h+v.y;S<0||S>=this.state.height||x<0||x>=this.state.width||-1===t[S][x]&&c++}}catch(w){d=!0,f=w}finally{try{m||null==p.return||p.return()}finally{if(d)throw f}}t[n][h]=c}console.log(t),this.setState({tileStatus:e,mines:t,playing:!0})}},{key:"componentDidUpdate",value:function(){this.props.reset&&(this.resetBoard(),this.props.onMount())}},{key:"render",value:function(){var e=null;return null!==this.state.tileStatus&&(e=this.state.tileStatus.map(function(e,t){var n=e.map(function(e,n){var a=this;return i.a.createElement(v,{key:t+"_"+n,clicked:function(e){return a.tileClickedHandler(e,{x:t,y:n})},text:this.state.mines[t][n],status:e})},this);return i.a.createElement("div",{key:t,className:x.a.GameRow},n)},this)),i.a.createElement("div",{className:x.a.Container},e)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.reset?{tileStatus:null,mines:null,playing:!1,width:e.width,height:e.height,mineCount:e.mineCount}:t}}]),t}(a.Component),C=n(11),O=n.n(C),E=function(e){return i.a.createElement("div",{className:O.a.Container},i.a.createElement("p",null,e.label," : ",e.value),i.a.createElement("input",{className:O.a.Slider,type:"range",min:e.min,max:e.max,value:e.value,onChange:e.changeHandler}))},_=n(12),b=n.n(_),H=function(e){return i.a.createElement("button",{disabled:e.disabled,className:[b.a.Button,b.a[e.btnType]].join(" "),onClick:e.clicked},e.children)},G=n(19),M=n.n(G),N=function(e){return i.a.createElement("div",{className:M.a.Container},i.a.createElement(E,{label:"Height",min:e.min,max:e.max,value:e.height,changeHandler:function(t){return e.onSliderChangeHandler(t,"height")}}),i.a.createElement(E,{label:"Width",min:e.min,max:e.max,value:e.width,changeHandler:function(t){return e.onSliderChangeHandler(t,"width")}}),i.a.createElement(E,{label:"Mines",min:e.min,max:e.maxMines,value:e.mines,changeHandler:function(t){return e.onSliderChangeHandler(t,"mines")}}),i.a.createElement(H,{btnType:"Success",clicked:e.resetHandler},"Play"))},k=n(13),I=n.n(k),T=n(14),R=n.n(T);R.a.setAppElement("#root");var L=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).state={min:1,max:100,maxMines:99,height:5,width:5,mines:24,reset:!0,modalIsOpen:!0,gameState:p.IN_PROGRESS},n.customStyles={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},n.onSliderChangeHandler=function(e,t){var a;n.setState((a={},Object(l.a)(a,t,parseInt(e.target.value,10)),Object(l.a)(a,"maxMines",n.state.height*n.state.width-1),a)),n.state.mines>n.state.maxMines&&n.setState({mines:n.state.maxMines})},n.resetHandler=function(e){n.setState({reset:e}),e&&n.setState({gameState:p.IN_PROGRESS})},n.openModal=function(){n.setState({modalIsOpen:!0})},n.closeModal=function(){n.setState({modalIsOpen:!1})},n.gameOverHandler=function(){n.setState({gameState:p.LOST,modalIsOpen:!0})},n.gameWonHandler=function(){n.setState({gameState:p.WON,modalIsOpen:!0})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state.gameState;return t=t===p.IN_PROGRESS?"Welcome to minesweeper":t,i.a.createElement("div",{className:I.a.Container},i.a.createElement(R.a,{isOpen:this.state.modalIsOpen,onRequestClose:this.closeModal,contentLabel:"Modal",style:this.customStyles},t),i.a.createElement("div",{className:I.a.Controls},i.a.createElement("h1",null,"Minesweeper"),i.a.createElement(N,{min:this.state.min,max:this.state.max,height:this.state.height,width:this.state.width,mines:this.state.mines,maxMines:this.state.maxMines,onSliderChangeHandler:this.onSliderChangeHandler,resetHandler:function(){return e.resetHandler(!0)}})),i.a.createElement(w,{reset:this.state.reset,onMount:function(){return e.resetHandler(!1)},width:this.state.width,height:this.state.height,mineCount:this.state.mines,onGameOver:this.gameOverHandler,gameWon:this.gameWonHandler}))}}]),t}(a.Component);n(37);var P=function(){return i.a.createElement(L,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,n){e.exports={TileClosed:"Tile_TileClosed__-bC1y",TileOpen:"Tile_TileOpen__2t-hC"}}},[[20,1,2]]]);
//# sourceMappingURL=main.c639970a.chunk.js.map